{"ast":null,"code":"import _slicedToArray from\"/Users/ryandavies/portfoliotraversy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import sanityClient from'../client.js';import{useEffect,useState}from'react';import{Link}from'react-router-dom';import{fetchDigital,fetchPrint,fetchUx,fetchMotion}from'../actions/projectActions';import{useDispatch,useSelector}from'react-redux';import\"../../public/src/node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css\";import Loader from\"react-loader-spinner\";import Modal from\"./Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Post(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showDigital=_useState2[0],setShowDigital=_useState2[1];var dispatch=useDispatch();useEffect(function(){dispatch(fetchDigital());},[dispatch]);var _useSelector=useSelector(function(state){return state.fetchDigitalReducer;}),digitalLoading=_useSelector.loading,digitalError=_useSelector.error;var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),postData=_useState4[0],setPost=_useState4[1];useEffect(function(){sanityClient.fetch(\"*[_type == \\\"post\\\" && title match \\\"Digital\\\"]{\\n        title,\\n        slug,\\n        mainImage {\\n            asset -> {\\n            _id,\\n            url,\\n            },\\n            alt\\n        }\\n    }\").then(function(data){return setPost(data);}).catch(console.error);},[]);return/*#__PURE__*/_jsx(\"main\",{className:\"background-green-100 min-h-screen p-12\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\",children:postData&&postData.map(function(post,index){return/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsx(Modal,{}),/*#__PURE__*/_jsx(Link,{to:'/post/'+post.slug.current,children:/*#__PURE__*/_jsxs(\"span\",{className:\"block h-64 relative rounded shadow leading-snug bg-white\",children:[/*#__PURE__*/_jsx(\"img\",{src:post.mainImage.asset.url,alt:post.mainImage.alt,className:\"w-full h-full rounded-r object-cover absolute\"}),/*#__PURE__*/_jsx(\"span\",{className:\"block relative h-full flex justify-end items-end pr-4 pb-4\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-800 text-lg font-blog px-3 py-4 bg-red-700 text-red-100\",children:post.title})})]},index)},post.slug.current)]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"digitalPojects\",children:/* digitalLoading ? <Loader />\n                        : digitalError ? digitalError\n                        :  */showDigital&&showDigital.map(function(digital,index){return/*#__PURE__*/_jsx(Link,{to:'/post/'+digital.slug.current,children:/*#__PURE__*/_jsxs(\"span\",{className:\"block h-64 relative rounded shadow leading-snug bg-white\",children:[/*#__PURE__*/_jsx(\"img\",{src:digital.mainImage.asset.url,alt:digital.mainImage.alt,className:\"w-full h-full rounded-r object-cover absolute\"}),/*#__PURE__*/_jsx(\"span\",{className:\"block relative h-full flex justify-end items-end pr-4 pb-4\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-800 text-lg font-blog px-3 py-4 bg-red-700 text-red-100\",children:digital.title})})]},digital._id)},digital.slug.current);})})]})});}","map":{"version":3,"sources":["/Users/ryandavies/portfoliotraversy/src/components/Post.js"],"names":["React","sanityClient","useEffect","useState","Link","fetchDigital","fetchPrint","fetchUx","fetchMotion","useDispatch","useSelector","Loader","Modal","Post","showDigital","setShowDigital","dispatch","state","fetchDigitalReducer","digitalLoading","loading","digitalError","error","postData","setPost","fetch","then","data","catch","console","map","post","index","slug","current","mainImage","asset","url","alt","title","digital","_id"],"mappings":"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","sourcesContent":["import React from 'react'\nimport sanityClient from '../client.js';\nimport { useEffect, useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport {fetchDigital, fetchPrint, fetchUx, fetchMotion} from '../actions/projectActions';\nimport {useDispatch, useSelector} from 'react-redux'\nimport \"../../public/src/node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./Modal\"\n\nexport default function Post() {\n\nconst [showDigital, setShowDigital] = useState(false)\n\nconst dispatch = useDispatch();\n    useEffect(() => {    \n        dispatch(fetchDigital());\n    }, [dispatch]);\n  \n    const {loading: digitalLoading, error: digitalError\n    } = useSelector(state => state.fetchDigitalReducer)\n    \n    \nconst [postData, setPost] = useState(null)\nuseEffect(() => {\n    sanityClient\n    .fetch(`*[_type == \"post\" && title match \"Digital\"]{\n        title,\n        slug,\n        mainImage {\n            asset -> {\n            _id,\n            url,\n            },\n            alt\n        }\n    }`)\n    .then((data) => setPost(data))\n    .catch(console.error);\n}, [])\n\n    return (\n        <main className='background-green-100 min-h-screen p-12'>\n            <section className=\"container mx-auto\" >\n                {<div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\n                    {postData && postData.map((post, index) => ( \n                    <article>\n                        <Modal />\n                        <Link to={'/post/' + post.slug.current} key={post.slug.current} >\n                        <span\n                         className=\"block h-64 relative rounded shadow leading-snug bg-white\" key={index}\n                        >\n                            <img src={post.mainImage.asset.url}\n                             alt={post.mainImage.alt}\n                             className=\"w-full h-full rounded-r object-cover absolute\"\n                            />\n                            <span className=\"block relative h-full flex justify-end items-end pr-4 pb-4\">\n                                <h3 className=\"text-gray-800 text-lg font-blog px-3 py-4 bg-red-700 text-red-100\">\n                                    {post.title}\n                                </h3>\n                            </span>\n                        </span>\n                        </Link>\n                    </article>\n                    ))}\n\n                </div>}\n                <div className=\"digitalPojects\">\n                    {\n                        /* digitalLoading ? <Loader />\n                        : digitalError ? digitalError\n                        :  */showDigital && showDigital.map((digital, index)=> (\n                            <Link to={'/post/' + digital.slug.current} key={digital.slug.current} >\n                        <span\n                         className=\"block h-64 relative rounded shadow leading-snug bg-white\" key={digital._id}\n                        >\n                            <img src={digital.mainImage.asset.url}\n                             alt={digital.mainImage.alt}\n                             className=\"w-full h-full rounded-r object-cover absolute\"\n                            />\n                            <span className=\"block relative h-full flex justify-end items-end pr-4 pb-4\">\n                                <h3 className=\"text-gray-800 text-lg font-blog px-3 py-4 bg-red-700 text-red-100\">\n                                    {digital.title}\n                                </h3>\n                            </span>\n                        </span>\n                        </Link>\n                        ))\n                    }\n                </div>\n            </section>\n        </main>\n    )\n}"]},"metadata":{},"sourceType":"module"}