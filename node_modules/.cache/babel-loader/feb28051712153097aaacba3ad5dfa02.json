{"ast":null,"code":"import _slicedToArray from\"/Users/ryandavies/portfoliotraversy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from'react';import{useParams}from'react-router-dom';import imageUrlBuilder from'@sanity/image-url';import BlockContent from'@sanity/block-content-to-react';import sanityClient from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var builder=imageUrlBuilder(sanityClient);function urlFor(source){return builder.image(source);}export default function SinglePost(_ref){var showModal=_ref.showModal;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),singlePost=_useState2[0],setSinglePost=_useState2[1];var _useParams=useParams(),slug=_useParams.slug;useEffect(function(){sanityClient.fetch(\"*[slug.current == \\\"\".concat(slug,\"\\\"]{\\n            title,\\n            _id,\\n            slug,\\n            mainImage{\\n                asset->{\\n                    _id,\\n                    url\\n                }\\n            },\\n            body,\\n            \\\"name\\\": author->name,\\n            \\\"authorImage\\\": author->image\\n        }\")).then(function(data){return setSinglePost(data[0]);}).catch(console.error);},[slug]);if(!singlePost)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsx(\"main\",{className:\"bg-gray-200 min-h-screen p-12\",children:/*#__PURE__*/_jsxs(\"article\",{className:\"containter shadow-lg mx-auto bg-green-100 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute h-full w-full flex items-center justifu-center \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white bg-opacity-75 rounded p-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"cursive text-3xl lg:text-6xl mb-4\",children:singlePost.title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:urlFor(singlePost.authorImage).url(),alt:singlePost.name,className:\"w-10 h-10 rounded-full\"}),/*#__PURE__*/_jsx(\"p\",{className:\"cursive flex items-center pl-2 text-2xl\",children:singlePost.name})]})]})}),/*#__PURE__*/_jsx(\"img\",{src:singlePost.mainImage.asset.url,alt:singlePost.title,className:\"w-full object-cover rounded-t\",style:{height:'400px'}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-16 lg:px-48 py-12 lg:py-20 prose lg:prose-xl max-w-full\",children:/*#__PURE__*/_jsx(BlockContent,{blocks:singlePost.body,projectId:\"db9v6xd6\",dataset:\"production\"})})]})});}","map":{"version":3,"sources":["/Users/ryandavies/portfoliotraversy/src/components/SinglePost.js"],"names":["React","useState","useEffect","useParams","imageUrlBuilder","BlockContent","sanityClient","builder","urlFor","source","image","SinglePost","showModal","singlePost","setSinglePost","slug","fetch","then","data","catch","console","error","title","authorImage","url","name","mainImage","asset","height","body"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,WAAzB,C,wFAEA,GAAMC,CAAAA,OAAO,CAAGH,eAAe,CAACE,YAAD,CAA/B,CACA,QAAUE,CAAAA,MAAV,CAAiBC,MAAjB,CAAwB,CACpB,MAAOF,CAAAA,OAAO,CAACG,KAAR,CAAcD,MAAd,CAAP,CACH,CAED,cAAe,SAASE,CAAAA,UAAT,MAAiC,IAAZC,CAAAA,SAAY,MAAZA,SAAY,CAE5C,cAAoCX,QAAQ,CAAC,IAAD,CAA5C,wCAAOY,UAAP,eAAmBC,aAAnB,eACA,eAAeX,SAAS,EAAxB,CAAOY,IAAP,YAAOA,IAAP,CAEAb,SAAS,CAAC,UAAM,CACZI,YAAY,CAACU,KAAb,+BAAyCD,IAAzC,0TAcCE,IAdD,CAcM,SAACC,IAAD,QAAUJ,CAAAA,aAAa,CAACI,IAAI,CAAC,CAAD,CAAL,CAAvB,EAdN,EAeCC,KAfD,CAeOC,OAAO,CAACC,KAff,EAiBH,CAlBQ,CAkBP,CAACN,IAAD,CAlBO,CAAT,CAoBA,GAAI,CAACF,UAAL,CAAiB,mBAAO,mCAAP,CAEjB,mBACI,aAAM,SAAS,CAAC,+BAAhB,uBACI,iBAAS,SAAS,CAAC,sDAAnB,wBACI,gBAAQ,SAAS,CAAC,UAAlB,wBACI,YAAK,SAAS,CAAC,0DAAf,uBACA,aAAK,SAAS,CAAC,qCAAf,wBACI,WAAI,SAAS,CAAC,mCAAd,UACIA,UAAU,CAACS,KADf,EADJ,cAII,oCAAK,YAAK,GAAG,CAAEd,MAAM,CAACK,UAAU,CAACU,WAAZ,CAAN,CAA+BC,GAA/B,EAAV,CACJ,GAAG,CAAEX,UAAU,CAACY,IADZ,CAEJ,SAAS,CAAC,wBAFN,EAAL,cAIA,UAAG,SAAS,CAAC,yCAAb,UAAwDZ,UAAU,CAACY,IAAnE,EAJA,GAJJ,GADA,EADJ,cAcI,YAAK,GAAG,CAAEZ,UAAU,CAACa,SAAX,CAAqBC,KAArB,CAA2BH,GAArC,CAA0C,GAAG,CAAEX,UAAU,CAACS,KAA1D,CAAiE,SAAS,CAAC,+BAA3E,CAA2G,KAAK,CAAE,CAACM,MAAM,CAAC,OAAR,CAAlH,EAdJ,GADJ,cAiBI,YAAK,SAAS,CAAC,4DAAf,uBACG,KAAC,YAAD,EAAc,MAAM,CAAEf,UAAU,CAACgB,IAAjC,CAAuC,SAAS,CAAC,UAAjD,CAA4D,OAAO,CAAC,YAApE,EADH,EAjBJ,GADJ,EADJ,CAyBH","sourcesContent":["import React from 'react'\nimport {useState, useEffect} from 'react'\nimport {useParams} from 'react-router-dom'\nimport imageUrlBuilder from '@sanity/image-url'\nimport BlockContent from '@sanity/block-content-to-react'\nimport sanityClient from '../client'\n\nconst builder = imageUrlBuilder(sanityClient);\nfunction  urlFor(source){\n    return builder.image(source)\n}\n\nexport default function SinglePost({showModal}) {\n\n    const [singlePost, setSinglePost] = useState(null)\n    const {slug} = useParams()\n    \n    useEffect(() => {\n        sanityClient.fetch(`*[slug.current == \"${slug}\"]{\n            title,\n            _id,\n            slug,\n            mainImage{\n                asset->{\n                    _id,\n                    url\n                }\n            },\n            body,\n            \"name\": author->name,\n            \"authorImage\": author->image\n        }`)\n        .then((data) => setSinglePost(data[0]))\n        .catch(console.error)\n\n    },[slug]);\n\n    if (!singlePost) return <div>Loading...</div>\n\n    return(\n        <main className=\"bg-gray-200 min-h-screen p-12\"  >\n            <article className=\"containter shadow-lg mx-auto bg-green-100 rounded-lg\">\n                <header className=\"relative\">\n                    <div className=\"absolute h-full w-full flex items-center justifu-center \">\n                    <div className=\"bg-white bg-opacity-75 rounded p-12\">\n                        <h1 className=\"cursive text-3xl lg:text-6xl mb-4\">\n                           {singlePost.title}\n                        </h1>\n                        <div><img src={urlFor(singlePost.authorImage).url()}\n                         alt={singlePost.name}\n                         className=\"w-10 h-10 rounded-full\"\n                        />\n                        <p className=\"cursive flex items-center pl-2 text-2xl\">{singlePost.name}</p>\n                        </div>\n                    </div>\n                    </div>\n                    <img src={singlePost.mainImage.asset.url} alt={singlePost.title} className=\"w-full object-cover rounded-t\" style={{height:'400px'}} />\n                </header>\n                <div className=\"px-16 lg:px-48 py-12 lg:py-20 prose lg:prose-xl max-w-full\">\n                   <BlockContent blocks={singlePost.body} projectId='db9v6xd6' dataset='production'></BlockContent>\n                </div>\n            </article>\n        </main>\n    )\n} "]},"metadata":{},"sourceType":"module"}